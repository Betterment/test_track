<article class="InfoCard sc-m-v--l">
  <div class="InfoCard-titleContainer">
    <h4>Variant Details</h4>
    <%= link_to "Edit", new_admin_split_split_config_path(split), class: 'change-weights-link' %>
  </div>
  <hr class="InfoCard-divider">
  <div class="InfoCard-description">
    <table class="fs-VariantsTable BasicTable">
      <thead>
        <th>Name</th>
        <th>Weight</th>
        <th>Assignee Count</th>
        <th></th>
      </thead>
      <tbody>
        <% split.variant_details.each do |variant_detail| %>
          <tr>
            <td><%= variant_detail.variant %></td>
            <td><%= variant_detail.weight %>%</td>
            <td>
              <%= variant_detail.assignment_count %>
              <% if variant_detail.retirable? %>
              (<%= link_to "Retire variant", admin_split_variant_retirement_path(split, variant_detail.variant),
                class: "retire-variant-link",
                        method: :post,
                        data: { confirm: <<-EOF } %>)
                          You're redistributing #{variant_detail.variant} assignees to the other variants according to their weights.
                          Do you wish to proceed?
                        EOF
              <% end %>
            </td>
            <td><%= link_to 'edit', edit_admin_split_variant_detail_path(split, variant_detail.variant) %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</article>
