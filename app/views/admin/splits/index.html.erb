<div class="TakeoverText sc-m-v--l">
  <h1 class="TakeoverText-title">
    Active Split Tests
    <% if @app %>
      for <%= @app.name %>
    <% end %>
  </h1>
  <% if App.by_name.any? %>
    <%= form_tag admin_root_path, method: :get do %>
      <label for="app">Filter by App: </label>
      <select name="app" data-testId="appSelector">
        <% App.by_name.each do |app| %>
          <option value="<%= app.name %>" <%= "selected" if params[:app] == app.name %>><%= app.name %></option>
        <% end %>
      </select>
      <input type="submit" value="Go" class="u-button small" data-testId="filterFormSubmit" />
    <% end %>
  <% end %>
</div>

<div class="sc-m-v--m">
  <% if @splits.any? %>
    <table class="BasicTable">
      <thead>
        <tr>
          <th><a href="?sort=name">Name</a></th>
          <th>Owner App</th>
          <th><%= link_to('Date Migrated', { sort: 'date' }) %></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <%= render @splits %>
      </tbody>
    </table>
  <% else %>
    <p>There are no active splits<%= " for the #{@app.name} app" if @app %>.</p>
  <% end %>
</div>
